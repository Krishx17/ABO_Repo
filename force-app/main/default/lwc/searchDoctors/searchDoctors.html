<template>
    <div class="header-container">
        <h1 class="header">{verifyPhysicianHeader}</h1>
        <p class="instructions">{verifyPhysicianInstructions}</p>
    </div>

    <lightning-card>
        <lightning-tabset>
            <lightning-tab label="Name">
                <lightning-input label="First Name" data-field="firstName" type="text" onchange={handleInputChange}
                    class="input-field"></lightning-input>
                <lightning-input label="Last Name" data-field="lastName" type="text" onchange={handleInputChange}
                    class="input-field" required></lightning-input>
                <lightning-combobox label="Gender" data-field="gender" value={gender} onchange={handleInputChange}
                    options={genderOptions} class="input-field"></lightning-combobox>
            </lightning-tab>

            <lightning-tab label="Location">
                <div class="location-tab-container">
                    <div class="location-container">
                        <h2 class="location-heading">Location</h2>
                        <lightning-input label="Postal Code" data-field="postalCode" type="text"
                            onchange={handleInputChange} class="input-field" required></lightning-input>
                        <p class="or-divider">OR</p>
                        <div class="city-state-container">
                            <lightning-input label="City" data-field="city" type="text" onchange={handleInputChange}
                                class="input-field"></lightning-input>
                            <lightning-combobox label="State" data-field="state" value={state}
                                onchange={handleInputChange} options={stateOptions} class="input-field"
                                required></lightning-combobox>
                        </div>
                    </div>
                    <div class="within-container">
                        <h2 class="within-heading">Within</h2>
                        <lightning-slider label="Radius (miles)" data-field="radius" min="5" max="50" step="5"
                            value={radius} onchange={handleInputChange} class="slider"></lightning-slider>
                        <p class="distance-label">Selected Radius: {radius} miles</p>
                    </div>
                </div>
            </lightning-tab>

            <lightning-tab label="Name and Location">
                <div class="name-location-container">
                    <lightning-input label="First Name" data-field="firstName" type="text" onchange={handleInputChange}
                        class="input-field"></lightning-input>
                    <lightning-input label="Last Name" data-field="lastName" type="text" onchange={handleInputChange}
                        class="input-field" required></lightning-input>
                    <lightning-input label="Postal Code" data-field="postalCode" type="text"
                        onchange={handleInputChange} class="input-field"></lightning-input>
                    <lightning-combobox label="State" data-field="state" value={state} onchange={handleInputChange}
                        options={stateOptions} class="input-field"></lightning-combobox>
                    <div class="location-container">
                        <lightning-input label="City" data-field="city" type="text" onchange={handleInputChange}
                            class="input-field"></lightning-input>
                        <div class="within-container">
                            <h2 class="within-heading">Within</h2>
                            <lightning-slider label="radius (miles)" data-field="radius" min="5" max="50" step="5"
                                value={radius} onchange={handleInputChange} class="slider"></lightning-slider>
                            <p class="distance-label">Selected Radius: {radius} miles</p>
                        </div>
                    </div>
                </div>
            </lightning-tab>
        </lightning-tabset>

        <lightning-button label={buttonLabel} variant="brand" onclick={handleSearch} class="search-button"
            disabled={isLoading}></lightning-button>
    </lightning-card>
    <template if:true={mapMarkers.length}>
        <lightning-map map-markers={mapMarkers} markers-title="Locations" list-view="visible"></lightning-map>
    </template>

    <template if:true={noRecordsFound}>
        <p class="no-records">No Doctors found in your area.</p>
    </template>

    <template if:true={error}>
        <p class="error-message">{error}</p>
    </template>
</template>